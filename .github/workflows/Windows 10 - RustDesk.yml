name: Windows - RustDesk

on:
  workflow_dispatch:

jobs:
  build:
    name: Start Building...
    runs-on: windows-latest

    steps:
      - name: Download RustDesk Installer
        uses: actions/download-artifact@v3
        with:
          name: RustDesk-Installer
          url: "https://github.com/rustdesk/rustdesk/releases/latest/download/RustDesk-Setup-x64.exe" # Download latest RustDesk installer
          
      - name: Install RustDesk
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: '6.0.x'
        run: |
          dotnet tool install -g rustdesk
          rustdesk start --no-tray # Starts RustDesk in background, no tray icon

      - name: Time Counter (Continuous)
        # Replace with your actual time counter script
        run: python time.py
        continue-on-error: true
        timeout /t 1500000
